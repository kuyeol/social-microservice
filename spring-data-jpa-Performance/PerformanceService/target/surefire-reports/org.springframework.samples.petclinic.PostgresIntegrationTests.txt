-------------------------------------------------------------------------------
Test set: org.springframework.samples.petclinic.PostgresIntegrationTests
-------------------------------------------------------------------------------
Tests run: 2, Failures: 0, Errors: 2, Skipped: 0, Time elapsed: 20.60 s <<< FAILURE! -- in org.springframework.samples.petclinic.PostgresIntegrationTests
org.springframework.samples.petclinic.PostgresIntegrationTests.testFindAll -- Time elapsed: 0.005 s <<< ERROR!
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@25c756f0 testClass = org.springframework.samples.petclinic.PostgresIntegrationTests, locations = [], classes = [org.springframework.samples.petclinic.PetClinicApplication], contextInitializerClasses = [], activeProfiles = ["postgres"], propertySourceDescriptors = [], propertySourceProperties = ["spring.docker.compose.skip.in-tests=false", "spring.docker.compose.profiles.active=postgres", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@33abde31, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d1e09bc, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@231baf51, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4bb8855f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4d8126f, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@b9bfc741], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
Caused by: org.springframework.boot.docker.compose.core.ProcessExitException: 'docker compose --file /home/ung/IdeaProjects/social-microservice/spring-web-flow/spring-petclinic/spring-petclinic/docker-compose.yml --ansi never --profile postgres up --no-color --detach --wait' failed with exit code 1.

Stdout:


Stderr:
 postgres Pulling 
 302e3ee49805 Pulling fs layer 
 db123f79d191 Pulling fs layer 
 0f8c00fde6b5 Pulling fs layer 
 faa7319453cb Pulling fs layer 
 db22d52fa3c2 Pulling fs layer 
 a75b6bd68f08 Pulling fs layer 
 3bbfa3446e21 Pulling fs layer 
 0b62c3405bb7 Pulling fs layer 
 2b20a8c7ce41 Pulling fs layer 
 e7c88e163985 Pulling fs layer 
 e5a700d882eb Pulling fs layer 
 db22d52fa3c2 Waiting 
 28b27d53d86b Pulling fs layer 
 faa7319453cb Waiting 
 a75b6bd68f08 Waiting 
 bfc263366b3f Pulling fs layer 
 0b62c3405bb7 Waiting 
 3bbfa3446e21 Waiting 
 2b20a8c7ce41 Waiting 
 e5ff51eeda62 Pulling fs layer 
 e7c88e163985 Waiting 
 e5a700d882eb Waiting 
 e5ff51eeda62 Waiting 
 28b27d53d86b Waiting 
 0f8c00fde6b5 Downloading [>                                                  ]  46.46kB/4.534MB
 302e3ee49805 Downloading [>                                                  ]  294.2kB/29.13MB
 db123f79d191 Downloading [==============================>                    ]     707B/1.166kB
 db123f79d191 Downloading [==================================================>]  1.166kB/1.166kB
 db123f79d191 Verifying Checksum 
 db123f79d191 Download complete 
 0f8c00fde6b5 Downloading [===================================>               ]  3.218MB/4.534MB
 302e3ee49805 Downloading [==========>                                        ]  5.946MB/29.13MB
 0f8c00fde6b5 Download complete 
 302e3ee49805 Downloading [========================>                          ]  14.02MB/29.13MB
 302e3ee49805 Downloading [==================================>                ]  20.27MB/29.13MB
 302e3ee49805 Download complete 
 302e3ee49805 Extracting [>                                                  ]  294.9kB/29.13MB
 302e3ee49805 Extracting [=======>                                           ]  4.424MB/29.13MB
 302e3ee49805 Extracting [===============>                                   ]  8.847MB/29.13MB
 faa7319453cb Downloading [>                                                  ]  15.78kB/1.447MB
 302e3ee49805 Extracting [==================>                                ]  10.91MB/29.13MB
 faa7319453cb Downloading [==================================================>]  1.447MB/1.447MB
 faa7319453cb Verifying Checksum 
 faa7319453cb Download complete 
 db22d52fa3c2 Downloading [>                                                  ]  84.39kB/8.066MB
 302e3ee49805 Extracting [=========================>                         ]  14.75MB/29.13MB
 db22d52fa3c2 Verifying Checksum 
 db22d52fa3c2 Download complete 
 302e3ee49805 Extracting [==================================>                ]  20.05MB/29.13MB
 302e3ee49805 Extracting [=========================================>         ]  23.89MB/29.13MB
 a75b6bd68f08 Downloading [>                                                  ]  12.32kB/1.196MB
 a75b6bd68f08 Download complete 
 302e3ee49805 Extracting [==========================================>        ]  24.77MB/29.13MB
 302e3ee49805 Extracting [===============================================>   ]  27.72MB/29.13MB
 3bbfa3446e21 Downloading [==================================================>]     116B/116B
 3bbfa3446e21 Verifying Checksum 
 3bbfa3446e21 Download complete 
 0b62c3405bb7 Downloading [===========>                                       ]     719B/3.143kB
 0b62c3405bb7 Downloading [==================================================>]  3.143kB/3.143kB
 0b62c3405bb7 Download complete 
 302e3ee49805 Extracting [================================================>  ]  28.31MB/29.13MB
 302e3ee49805 Extracting [==================================================>]  29.13MB/29.13MB
 302e3ee49805 Pull complete 
 2b20a8c7ce41 Downloading [>                                                  ]  540.7kB/110.2MB
 db123f79d191 Extracting [==================================================>]  1.166kB/1.166kB
 db123f79d191 Extracting [==================================================>]  1.166kB/1.166kB
 db123f79d191 Pull complete 
 0f8c00fde6b5 Extracting [>                                                  ]  65.54kB/4.534MB
 2b20a8c7ce41 Downloading [===>                                               ]  8.043MB/110.2MB
 0f8c00fde6b5 Extracting [=================================>                 ]   3.08MB/4.534MB
 2b20a8c7ce41 Downloading [========>                                          ]  17.68MB/110.2MB
 0f8c00fde6b5 Extracting [==================================================>]  4.534MB/4.534MB
 2b20a8c7ce41 Downloading [============>                                      ]  27.31MB/110.2MB
 0f8c00fde6b5 Pull complete 
 e7c88e163985 Downloading [======>                                            ]  1.369kB/10.23kB
 e7c88e163985 Downloading [==================================================>]  10.23kB/10.23kB
 e7c88e163985 Verifying Checksum 
 e7c88e163985 Download complete 
 faa7319453cb Extracting [=>                                                 ]  32.77kB/1.447MB
 2b20a8c7ce41 Downloading [================>                                  ]  36.42MB/110.2MB
 faa7319453cb Extracting [==================================================>]  1.447MB/1.447MB
 e5a700d882eb Downloading [==================================================>]     127B/127B
 e5a700d882eb Verifying Checksum 
 e5a700d882eb Download complete 
 faa7319453cb Pull complete 
 db22d52fa3c2 Extracting [>                                                  ]   98.3kB/8.066MB
 2b20a8c7ce41 Downloading [====================>                              ]  44.99MB/110.2MB
 db22d52fa3c2 Extracting [===============>                                   ]  2.458MB/8.066MB
 2b20a8c7ce41 Downloading [========================>                          ]  53.54MB/110.2MB
 db22d52fa3c2 Extracting [=========================>                         ]  4.129MB/8.066MB
 2b20a8c7ce41 Downloading [==========================>                        ]  58.33MB/110.2MB
 db22d52fa3c2 Extracting [===============================>                   ]  5.112MB/8.066MB
 2b20a8c7ce41 Downloading [==============================>                    ]  67.99MB/110.2MB
 db22d52fa3c2 Extracting [=====================================>             ]  5.997MB/8.066MB
 2b20a8c7ce41 Downloading [===================================>               ]  77.62MB/110.2MB
 db22d52fa3c2 Extracting [==============================================>    ]  7.471MB/8.066MB
 db22d52fa3c2 Extracting [==================================================>]  8.066MB/8.066MB
 2b20a8c7ce41 Downloading [=======================================>           ]  86.75MB/110.2MB
 28b27d53d86b Downloading [==================================================>]     166B/166B
 28b27d53d86b Verifying Checksum 
 28b27d53d86b Download complete 
 db22d52fa3c2 Pull complete 
 a75b6bd68f08 Extracting [=>                                                 ]  32.77kB/1.196MB
 2b20a8c7ce41 Downloading [===========================================>       ]   96.4MB/110.2MB
 a75b6bd68f08 Extracting [==================================================>]  1.196MB/1.196MB
 a75b6bd68f08 Extracting [==================================================>]  1.196MB/1.196MB
 bfc263366b3f Downloading [======>                                            ]     719B/5.415kB
 bfc263366b3f Downloading [==================================================>]  5.415kB/5.415kB
 bfc263366b3f Verifying Checksum 
 bfc263366b3f Download complete 
 a75b6bd68f08 Pull complete 
 2b20a8c7ce41 Downloading [================================================>  ]    106MB/110.2MB
 3bbfa3446e21 Extracting [==================================================>]     116B/116B
 3bbfa3446e21 Extracting [==================================================>]     116B/116B
 2b20a8c7ce41 Verifying Checksum 
 2b20a8c7ce41 Download complete 
 3bbfa3446e21 Pull complete 
 0b62c3405bb7 Extracting [==================================================>]  3.143kB/3.143kB
 0b62c3405bb7 Extracting [==================================================>]  3.143kB/3.143kB
 0b62c3405bb7 Pull complete 
 2b20a8c7ce41 Extracting [>                                                  ]  557.1kB/110.2MB
 2b20a8c7ce41 Extracting [==>                                                ]  6.128MB/110.2MB
 2b20a8c7ce41 Extracting [====>                                              ]   9.47MB/110.2MB
 2b20a8c7ce41 Extracting [=====>                                             ]  12.81MB/110.2MB
 2b20a8c7ce41 Extracting [=======>                                           ]  16.15MB/110.2MB
 e5ff51eeda62 Downloading [==================================================>]     183B/183B
 e5ff51eeda62 Download complete 
 2b20a8c7ce41 Extracting [========>                                          ]   19.5MB/110.2MB
 2b20a8c7ce41 Extracting [==========>                                        ]   23.4MB/110.2MB
 2b20a8c7ce41 Extracting [============>                                      ]  26.74MB/110.2MB
 2b20a8c7ce41 Extracting [==============>                                    ]   31.2MB/110.2MB
 2b20a8c7ce41 Extracting [=================>                                 ]  37.88MB/110.2MB
 2b20a8c7ce41 Extracting [===================>                               ]  43.45MB/110.2MB
 2b20a8c7ce41 Extracting [======================>                            ]  49.58MB/110.2MB
 2b20a8c7ce41 Extracting [========================>                          ]  52.92MB/110.2MB
 2b20a8c7ce41 Extracting [========================>                          ]  54.59MB/110.2MB
 2b20a8c7ce41 Extracting [=========================>                         ]  56.82MB/110.2MB
 2b20a8c7ce41 Extracting [===========================>                       ]  60.16MB/110.2MB
 2b20a8c7ce41 Extracting [=============================>                     ]  65.73MB/110.2MB
 2b20a8c7ce41 Extracting [================================>                  ]   71.3MB/110.2MB
 2b20a8c7ce41 Extracting [==================================>                ]  75.76MB/110.2MB
 2b20a8c7ce41 Extracting [====================================>              ]  81.33MB/110.2MB
 2b20a8c7ce41 Extracting [=======================================>           ]  88.01MB/110.2MB
 2b20a8c7ce41 Extracting [==========================================>        ]  93.03MB/110.2MB
 2b20a8c7ce41 Extracting [===========================================>       ]  95.81MB/110.2MB
 2b20a8c7ce41 Extracting [============================================>      ]  98.04MB/110.2MB
 2b20a8c7ce41 Extracting [=============================================>     ]  100.8MB/110.2MB
 2b20a8c7ce41 Extracting [===============================================>   ]  103.6MB/110.2MB
 2b20a8c7ce41 Extracting [===============================================>   ]  105.3MB/110.2MB
 2b20a8c7ce41 Extracting [================================================>  ]    107MB/110.2MB
 2b20a8c7ce41 Extracting [=================================================> ]  108.6MB/110.2MB
 2b20a8c7ce41 Extracting [==================================================>]  110.2MB/110.2MB
 2b20a8c7ce41 Pull complete 
 e7c88e163985 Extracting [==================================================>]  10.23kB/10.23kB
 e7c88e163985 Extracting [==================================================>]  10.23kB/10.23kB
 e7c88e163985 Pull complete 
 e5a700d882eb Extracting [==================================================>]     127B/127B
 e5a700d882eb Extracting [==================================================>]     127B/127B
 e5a700d882eb Pull complete 
 28b27d53d86b Extracting [==================================================>]     166B/166B
 28b27d53d86b Extracting [==================================================>]     166B/166B
 28b27d53d86b Pull complete 
 bfc263366b3f Extracting [==================================================>]  5.415kB/5.415kB
 bfc263366b3f Extracting [==================================================>]  5.415kB/5.415kB
 bfc263366b3f Pull complete 
 e5ff51eeda62 Extracting [==================================================>]     183B/183B
 e5ff51eeda62 Extracting [==================================================>]     183B/183B
 e5ff51eeda62 Pull complete 
 postgres Pulled 
 Network spring-petclinic_default  Creating
 Network spring-petclinic_default  Created
 Container spring-petclinic-postgres-1  Creating
 Container spring-petclinic-postgres-1  Created
 Container spring-petclinic-postgres-1  Starting
Error response from daemon: driver failed programming external connectivity on endpoint spring-petclinic-postgres-1 (f0110fa9739a3b1609eb034983f3fbd1bea0be6713400269943b0b04996cd9f7): Bind for 0.0.0.0:5432 failed: port is already allocated

	at org.springframework.boot.docker.compose.core.ProcessRunner.run(ProcessRunner.java:96)
	at org.springframework.boot.docker.compose.core.DockerCli.run(DockerCli.java:80)
	at org.springframework.boot.docker.compose.core.DefaultDockerCompose.up(DefaultDockerCompose.java:51)
	at org.springframework.boot.docker.compose.lifecycle.StartCommand.applyTo(StartCommand.java:51)
	at org.springframework.boot.docker.compose.lifecycle.DockerComposeLifecycleManager.start(DockerComposeLifecycleManager.java:128)
	at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:53)
	at org.springframework.boot.docker.compose.lifecycle.DockerComposeListener.onApplicationEvent(DockerComposeListener.java:35)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:138)
	at org.springframework.boot.context.event.EventPublishingRunListener.multicastInitialEvent(EventPublishingRunListener.java:136)
	at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:98)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:72)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:72)
	at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:433)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:334)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1463)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 17 more

org.springframework.samples.petclinic.PostgresIntegrationTests.testOwnerDetails -- Time elapsed: 0.001 s <<< ERROR!
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@25c756f0 testClass = org.springframework.samples.petclinic.PostgresIntegrationTests, locations = [], classes = [org.springframework.samples.petclinic.PetClinicApplication], contextInitializerClasses = [], activeProfiles = ["postgres"], propertySourceDescriptors = [], propertySourceProperties = ["spring.docker.compose.skip.in-tests=false", "spring.docker.compose.profiles.active=postgres", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@33abde31, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5d1e09bc, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@231baf51, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4bb8855f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4d8126f, org.springframework.boot.testcontainers.service.connection.ServiceConnectionContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@b9bfc741], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:163)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

